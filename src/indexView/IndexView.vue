<template>
  <div class="w-[95vw]  ml-[2.5vw] from-[#dddbfb] to-pink-200 bg-[#f7f9fe]">
    <header class="fixed h-[9vw] w-[95vw] top-0 z-30 bg-[#f7f9fe]">
          <icon icon="prime:bars" class="w-[9vw] h-[9vw] float-left" />
      <input
        type="text"
        class="border-[none] h-[9vw] ml-3 w-[72vw] outline-sky-600 bg-gradient-to-r from-[#dddbfb] to-pink-500 rounded-[4.5vw] placeholder-indent pl-[5vw]"
        placeholder="ğŸ”è–›ä¹‹è°¦ æœ€è¿‘å¾ˆç«å“¦"
      />
      <icon
        icon="ri:netease-cloud-music-fill"
        class="w-[9vw] h-[9vw] float-right inline-block"
      />
    </header>

    <!-- è½®æ’­1 -->
    <van-swipe :autoplay="3000" lazy-render class="w-[95vw] h-[35vw] mt-[14vw]">
      <van-swipe-item v-for="item in menu" :key="item.id">
        <img :src="item.pic" class=""/>
      </van-swipe-item>
    </van-swipe>

    <!-- èœå• -->
    <div class="overflow-auto">
       <div >
          <indexmenu class="flex justify-between mt-4 w-[200vw]  " :menu = "wenzi" />
       </div>
    </div>

    <!-- è½®æ’­2 -->
    <div class="home">
        <div>
          <playlist class="mt-5 h-[48vw]" :playlists= "subTitle"/>
        </div>
    </div>
    <!-- æ–°æ­Œé€Ÿé€’ -->
    <div class="mt-[11vw]">
      <p class="text-[5vw] font-bold">
        æ–°æ­Œé€Ÿé€’<icon
          icon="ant-design:right-outlined"
          class="w-[6vw] h-[6vw] inline-block mt-[-1vw]"
        />
      </p>

      <div class="overflow-auto mt-[5vw]">
          <div>
               <expressDelivery class="w-[800vw]" :express="xinge" :Delivery="introduce"/>
          </div>
      </div>
    </div>
    <!-- æ’è¡Œæ¦œ -->
    <div>
      <div class="mt-10">
        <p class="text-[5vw] font-bold">
          æ’è¡Œæ¦œ<icon
            icon="ant-design:right-outlined"
            class="w-[6vw] h-[6vw] inline-block mt-[-1vw]"
          />
        </p>

        <div class="overflow-auto">
            <div>
                <ranking class="w-[600vw] pt-[5vw] h-[92vw]"  :king="phb"/>
            </div>
        </div>
      </div>
    </div>
    <!-- éŸ³ä¹æ—¥å† -->
    <div>
      <div class="w-[95vw]">
        <p class=" text-[5vw] font-bold mt-[5vw] ">
          éŸ³ä¹æ—¥å†<icon
            icon="ant-design:right-outlined"
            class="w-[6vw] h-[6vw] inline-block mt-[-1vw]"
          />
        </p>
        <div class=" bg-[#ffffff] rounded-[4vw] mt-[5vw] shadow-md border-b">
            <div v-for="item in rili" :key="item.da" class="flex" style="display: flex;
    justify-content: space-around;">
          <div class="flex-nowrap" style="display: flex;
    flex-direction: column;
    justify-content: space-around;">
            <p class="text-[#767a93] text-[3vw]">{{ currentMonth }}æœˆ{{ currentDay }}æ—¥</p>
            <p class="overflow-hidden overflow-ellipsis whitespace-nowrap text-[4vw] w-[70vw] leading-[5vw] font-[700]">{{item.title}}</p>
          </div>
          <img :src="item.imgUrl" alt="" class="w-[16vw] h-[16vw] rounded-[2vw]"/>
        </div>
        </div>
      </div>

     
    </div>
       <!-- çƒ­é—¨è¯é¢˜ -->
    <div class=" overflow-auto">
       <p class=" text-[5vw] font-bold mt-[5vw] ">
          çƒ­é—¨è¯é¢˜<icon
            icon="ant-design:right-outlined"
            class="w-[6vw] h-[6vw] inline-block mt-[-1vw]"
          />
        </p>
        <div class=" overflow-auto ">
           <div class=" w-[420vw]" style="display: flex;
    justify-content: space-between;">
              <div  v-for="item in subTitle"
              :key="item.id"
              class="w-[60vw] h-[35vw] rounded-[4vw] float-left "
              style="display: flex;
    flex-direction: column;
    align-items: center;
        justify-content: space-around;">
                 <div>
      <div class="flex justify-between items-center text-2xl  font-extrabold">
      
      </div>
      <div class="bg-[#949996] w-[60vw] h-[30vw] rounded-[2vw] px-[3vw] flex flex-col justify-evenly">
          <div class="flex text-[#fff] items-center">
            <Icon icon="icon-park-solid:topic" width="5vw" height="5vw" />
            <span> æœ€ä»¤ä½ æ„ŸåŠ¨çš„é‚£é¦–æƒ…æ­Œ</span> 
          </div>
          <span class="text-[2vw] text-[#ccc]">484ä¸‡çƒ­åº¦</span>
          <div class=" overflow-hidden h-[15vw] flex items-end justify-between " >
            <div class="text-[3vw] w-[40vw] h-[10vw] text-[#fff]">Saint-Denis:ä»Šæ—¥ä»½çš„æ„ŸåŠ¨  â€œæˆ‘å¸Œæœ›æˆ‘ä»¬ä¸¤ä¸ªä¹‹é—´çš„çˆ±</div>
            <img :src="item.uiElement.image.imageUrl" alt="" class="h-[15vw] w-[15vw]" >
          </div>
      </div>
    </div>

              </div>
           </div>
        </div>
    </div>
   
  </div>
</template>

<script>
import axios from 'axios';
import Swiper from 'swiper';
import '../../node_modules/swiper/css/swiper.css';
import indexmenu from './menu.vue';//èœå•
import playlist from './playlist.vue';//æ¨èæ­Œå•
import expressDelivery from "./expressDelivery.vue"//æ–°æ­Œé€Ÿé€’
import ranking from "./ranking.vue"//æ’è¡Œæ¦œ

export default {
  components: {
   ranking,
   indexmenu,
   playlist,
   expressDelivery,
   
  },
  data() {
    return {
       currentMonth: '',
      currentDay: '',
      introduce: ['è¶…71%äººæ’­æ”¾', 'æ²‰æµ¸å£°', 'HI-Res'],
      rili: [],
      num: 12,
      phb: [],
      menu: [],
      subTitle: [],
      xinge: [],
      wenzi: [
        [' æ¯æ—¥æ¨è', 'ion:calendar-number'],
        ['ç§äººæ¼«æ¸¸', 'material-symbols:radio'],
        ['æ­Œå•', 'solar:playlist-minimalistic-2-outline'],
        ['æ’è¡Œæ¦œ', 'icon-park-outline:ranking'],
        ['å¬å›æœ‰ç¤¼', 'solar:gift-bold'],
        [' æ¯æ—¥æ¨è', 'ion:calendar-number'],
        ['ç§äººæ¼«æ¸¸', 'material-symbols:radio'],
        ['æ­Œå•', 'solar:playlist-minimalistic-2-outline'],
        ['æ’è¡Œæ¦œ', 'icon-park-outline:ranking'],
        ['å¬å›æœ‰ç¤¼', 'solar:gift-bold'],
      ],
      swiper: null,
    };
  },
  methods: {
    
    fetchPlaylists(cat) {
      axios
        .get(
          'https://netease-cloud-music-c2c1ys55f-cc-0820.vercel.app/homepage/block/page'
        )
        .then((res) => {
          this.menu = res.data.data.blocks[0].extInfo.banners;
          this.subTitle = res.data.data.blocks[1].creatives;
          this.xinge = res.data.data.blocks[5].creatives;
          this.phb = res.data.data.blocks[3].creatives;
        });

      axios
        .get(
          'https://netease-cloud-music-api-five-roan-88.vercel.app/calendar?startTime=1677417600000&endTime=1677417600000'
        )
        .then((res) => {
          this.rili = res.data.data.calendarEvents;
        });
    },
    
  },

  mounted() {
    const date = new Date();
    this.currentMonth = date.getMonth() + 1; // æœˆä»½ä» 0 å¼€å§‹ï¼Œæ‰€ä»¥éœ€è¦åŠ 1
    this.currentDay = date.getDate();
    this.swiper = new Swiper('.swiper-container', {
      slidesPerView: 3,
      spaceBetween: 30,
      pagination: {
        el: '.swiper-pagination',
        clickable: true,
      },
    });
  
  },
  beforeDestroy() {
   
  },
  created() {
    // Vueç»„ä»¶çš„ç”Ÿå‘½å‘¨æœŸé’©å­å‡½æ•°ï¼Œå®ä¾‹åˆ›å»ºå®Œæˆåè‡ªåŠ¨è°ƒç”¨
    axios
      .get(
        'https://netease-cloud-music-c2c1ys55f-cc-0820.vercel.app/homepage/block/page'
      )
      .then(() => {
        this.fetchPlaylists();
      })
      .catch((err) => {
        console.log(err);
      });
  },
};
</script>

<style scoped>
.active {
  color: red;
}
.placeholder-indent::placeholder {
  text-indent: 4em;
}
li {
  list-style: none;
}

.xuanz {
  display: flex;
  flex-direction: column;
  justify-content: space-around;
  text-indent: 2em;
}
.xuanz p {
  height: 7.5vw;
}
.horizontal-scrollbar-container .scroll-wrapper {
  position: relative;
  display: flex;
  align-content: center;
  width: 95vw;
  height: 50vw;
  margin-top: 5vw;
  white-space: nowrap;
  overflow: hidden;
}

.scroll-content {
  display: inline-block;
  align-self: center;
}
.scroll-item {
  opacity: 0.6;
  color: black;
  box-sizing: border-box;
  width: 95vw;
  height: 50vw;
  line-height: 50px;
  border-radius: 50%;
  font-size: 18px;
  display: inline-block;
  padding: 0 10px;
  margin: 0 10px;
}
.van-swipe {
    border-radius: 4vw;
    position: relative;
    overflow: hidden;
    -webkit-transform: translateZ(0);
    transform: translateZ(0);
    cursor: grab;
    -webkit-user-select: none;
    user-select: none;
}
</style>
